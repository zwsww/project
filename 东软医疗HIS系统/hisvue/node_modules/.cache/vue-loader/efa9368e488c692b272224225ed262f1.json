{"remainingRequest":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\mainpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\mainpage.vue","mtime":1602293508586},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1600741744010},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js","mtime":1600741754219}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue'\nexport default{\n\tdata(){\n\t\treturn{\n\t\t\tuser:{},\n\t\t\tmenus:[],\n\t\t\tactiveName:'b',\n\t\t\teditableTabs:[\n\t\t\t],\n\t\t\tmenuText:'隐藏菜单'\n\t\t}\n\t},\n\tcomputed:{\n\t\tusername(){\n\t\t\treturn this.$getSessionStorage('user').username.toUpperCase();\n\t\t}\n\t},\n\tcreated(){\n\t\tthis.user = this.$getSessionStorage(\"user\");\n\t\t\n\t\tlet url = \"role/getMenuByRoleId\";\n\t\taxios.post(url,`roleId=${this.user.role.id}`).then(resp=>{\n\t\t/* axios.post(url,`roleId=7`).then(resp=>{ */\n\t\t\tthis.menus = resp.data.data;\n\t\t});\n\t},\n\tmethods:{\n\t\thandleClick(tab,event){\n\t\t\tconsole.log(tab,event);\n\t\t},\n\t\taddTab(menu){\n\t\t\tlet newTabName = menu.id+'';\n\t\t\tlet b = this.editableTabs.some(tab=>tab.name == newTabName);\n\t\t\t\n\t\t\t\n\t\t\tif(!b){\n\t\t\t\tthis.editableTabs.push({\n\t\t\t\t\ttitle:menu.title,\n\t\t\t\t\tname:newTabName,\n\t\t\t\t\tcomponentName:'com'+newTabName\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tVue.component('com'+newTabName,()=>import('@/views/'+menu.url+'.vue'));\n\t\t\tthis.activeName = newTabName;\n\t\t},\n\t\thandleRemove(targetName){\n\t\t\tlet temp = this.activeName;\n\t\t\tif(this.activeName === targetName){\n\t\t\t\tthis.editableTabs.forEach((tab,index)=>{\n\t\t\t\t\tif(tab.name === this.activeName){\n\t\t\t\t\t\tlet nextTab = this.editableTabs[index+1] || this.editableTabs[index-1];\n\t\t\t\t\t\tif(nextTab){\n\t\t\t\t\t\t\ttemp = nextTab.name;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\tthis.activeName = temp;\n\t\t\tthis.editableTabs = this.editableTabs.filter(tab=>tab.name !== targetName);\n\t\t},\n\t\thandleCommand(command){\n\t\t\tif(command == \"hideMenu\"){\n\t\t\t\tif(this.menuText == \"隐藏菜单\"){\n\t\t\t\t\t\n\t\t\t\t\tthis.menuText = \"显示菜单\";\n\t\t\t\t}else{\n\t\t\t\t\tthis.menuText = \"隐藏菜单\"\n\t\t\t\t}\n\t\t\t}else if(command == \"exit\"){\n\t\t\t\tthis.$confirm(\"你想好了吗？\",\"提示\").then(()=>{\n\t\t\t\t\tthis.$router.push(\"/login\");\n\t\t\t\t\tsessionStorage.clear();\n\t\t\t\t}).catch(()=>{});\n\t\t\t}\n\t\t}\n\t}\n}\n",{"version":3,"sources":["mainpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mainpage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\t<div>\n\t\t<el-container>\n\t\t\t<el-header>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t<span class=\"main_title\">东软医疗HIS系统</span>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"2\" :offset=\"1\">\r\n\t\t\t\t\t\t\t<el-dropdown @command=\"handleCommand\" class=\"el-dropdown-link\">\r\n\t\t\t\t\t\t\t\t<span class=\"user_title\">\r\n\t\t\t\t\t\t\t\t\t{{username}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item command=\"hideMenu\">\r\n\t\t\t\t\t\t\t\t\t\t{{menuText}}\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item divided command=\"exit\">\r\n\t\t\t\t\t\t\t\t\t\t退出登录\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t\t\t</el-dropdown>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-header>\n\t\t\t<el-container class=\"a\">\n\t\t\t\t<el-aside v-show=\"menuText=='隐藏菜单'\">\n\t\t\t\t\t<el-menu>\n\t\t\t\t\t\t<template v-for=\"(menu,index) in menus\">\n\t\t\t\t\t\t\t<template v-if=\"menu.parentId == 0\">\n\t\t\t\t\t\t\t\t<el-submenu :index=\"index+''\"  :key=\"index\">\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<span slot=\"title\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-menu\"></i>{{menu.title}}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<template v-for=\"(childMenu,childIndex) in menus\">\n\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"menu.id == childMenu.parentId\">\n\t\t\t\t\t\t\t\t\t\t\t\t<el-menu-item :key=\"childIndex\" @click=\"addTab(childMenu)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{childMenu.title}}\n\t\t\t\t\t\t\t\t\t\t\t\t</el-menu-item>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</el-submenu>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-menu>\n\t\t\t\t\t\n\t\t\t\t</el-aside>\n\t\t\t\t<el-main>\n\t\t\t\t\t<el-tabs type=\"card\" closable @tab-remove=\"handleRemove\" v-model=\"activeName\" @tab-click=\"handleClick\">\n\t\t\t\t\t\t<el-tab-pane v-for=\"(item,index) in editableTabs\" :label=\"item.title\" :name=\"item.name\">\n\t\t\t\t\t\t\t<component :is=\"item.componentName\"></component>\r\n\t\t\t\t\t\t</el-tab-pane>\n\t\t\t\t\t</el-tabs>\n\t\t\t\t</el-main>\n\t\t\t</el-container>\n\t\t\t<el-footer>版权：东软睿道</el-footer>\n\t\t</el-container>\n\t</div>\n</template>\n\n<script>\r\n\timport Vue from 'vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tuser:{},\n\t\t\t\tmenus:[],\n\t\t\t\tactiveName:'b',\n\t\t\t\teditableTabs:[\n\t\t\t\t],\r\n\t\t\t\tmenuText:'隐藏菜单'\n\t\t\t}\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tusername(){\r\n\t\t\t\treturn this.$getSessionStorage('user').username.toUpperCase();\r\n\t\t\t}\r\n\t\t},\n\t\tcreated(){\n\t\t\tthis.user = this.$getSessionStorage(\"user\");\n\t\t\t\n\t\t\tlet url = \"role/getMenuByRoleId\";\n\t\t\taxios.post(url,`roleId=${this.user.role.id}`).then(resp=>{\r\n\t\t\t/* axios.post(url,`roleId=7`).then(resp=>{ */\n\t\t\t\tthis.menus = resp.data.data;\n\t\t\t});\n\t\t},\n\t\tmethods:{\n\t\t\thandleClick(tab,event){\n\t\t\t\tconsole.log(tab,event);\n\t\t\t},\r\n\t\t\taddTab(menu){\r\n\t\t\t\tlet newTabName = menu.id+'';\r\n\t\t\t\tlet b = this.editableTabs.some(tab=>tab.name == newTabName);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(!b){\r\n\t\t\t\t\tthis.editableTabs.push({\r\n\t\t\t\t\t\ttitle:menu.title,\r\n\t\t\t\t\t\tname:newTabName,\r\n\t\t\t\t\t\tcomponentName:'com'+newTabName\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tVue.component('com'+newTabName,()=>import('@/views/'+menu.url+'.vue'));\r\n\t\t\t\tthis.activeName = newTabName;\r\n\t\t\t},\r\n\t\t\thandleRemove(targetName){\r\n\t\t\t\tlet temp = this.activeName;\r\n\t\t\t\tif(this.activeName === targetName){\r\n\t\t\t\t\tthis.editableTabs.forEach((tab,index)=>{\r\n\t\t\t\t\t\tif(tab.name === this.activeName){\r\n\t\t\t\t\t\t\tlet nextTab = this.editableTabs[index+1] || this.editableTabs[index-1];\r\n\t\t\t\t\t\t\tif(nextTab){\r\n\t\t\t\t\t\t\t\ttemp = nextTab.name;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.activeName = temp;\r\n\t\t\t\tthis.editableTabs = this.editableTabs.filter(tab=>tab.name !== targetName);\r\n\t\t\t},\r\n\t\t\thandleCommand(command){\r\n\t\t\t\tif(command == \"hideMenu\"){\r\n\t\t\t\t\tif(this.menuText == \"隐藏菜单\"){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.menuText = \"显示菜单\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.menuText = \"隐藏菜单\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(command == \"exit\"){\r\n\t\t\t\t\tthis.$confirm(\"你想好了吗？\",\"提示\").then(()=>{\r\n\t\t\t\t\t\tthis.$router.push(\"/login\");\r\n\t\t\t\t\t\tsessionStorage.clear();\r\n\t\t\t\t\t}).catch(()=>{});\r\n\t\t\t\t}\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped=\"scoped\">\t\t\n\t.el-header,.el-footer{\n\t\theight: 100px;\n\t\tbackground-color: #409EFF;\n\t}\n\t.el-aside{\n\t\theight: 600px;\n\t}\n\t.link{\n\t\ttext-decoration: none;\n\t}\r\n\t.main_title{\r\n\t\tfont-size: 1.375rem;\r\n\t\tcolor: #fff;\r\n\t\theight: 60px;\r\n\t\tline-height: 60px;\r\n\t}\r\n\t.user_title{\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #FFFFFF;\r\n\t\theight: 60px;\r\n\t\tline-height: 60px;\r\n\t}\r\n\t.a{\r\n\t\theight: 600px;\r\n\t}\r\n\t.el-dropdown-link{\r\n\t\tcursor: pointer;\r\n\t}\n</style>\n"]}]}