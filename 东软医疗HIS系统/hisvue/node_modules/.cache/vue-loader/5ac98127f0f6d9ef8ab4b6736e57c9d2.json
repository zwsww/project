{"remainingRequest":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\reg\\regist.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\reg\\regist.vue","mtime":1602765842234},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1600741744010},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js","mtime":1600741754219}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tlist: {\n\t\t\t\tconstantitem: {},\n\t\t\t},\n\t\t\tsexlist: [],\n\t\t\tsetList: [],\n\t\t\tdepartmentList: [],\n\t\t\tregistlevelList: [],\n\t\t\tdoctorList: [],\n\t\t\tchargeList: [],\n\t\t\tdateList: [],\n\t\t\taddList: {\n\t\t\t\tconstantitem: {},\n\t\t\t\tsettlecategory: {},\n\t\t\t\tdepartment: {},\n\t\t\t\tregistlevel: {},\n\t\t\t\tuser1: {\n\t\t\t\t\tid: ''\n\t\t\t\t},\n\t\t\t\tuser2: {\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tprice: '',\n\t\t\tcharge: '',\n\t\t\trules: {\n\t\t\t\tcasenumber: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入用户名',\n\t\t\t\t\ttrigger: ['blur', 'change']\n\t\t\t\t}, ],\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\tlet url = \"register/getAll\";\n\t\taxios.post(url).then(resp => {\n\t\t\tthis.list = resp.data.data;\n\t\t\t// console.log(this.list);\n\t\t});\n\n\t\turl = \"register/selectSex\";\n\t\taxios.post(url).then(resp => {\n\t\t\tthis.sexlist = resp.data.data;\n\t\t\t// console.log(this.sexlist);\n\t\t});\n\n\t\turl = \"register/settleid\"\n\t\taxios.post(url).then(resp => {\n\t\t\tthis.setList = resp.data.data;\n\t\t});\n\n\t\t/* url = \"register/selDepartment\";\n\t\taxios.post(url).then(resp=>{\n\t\t\tthis.departmentList = resp.data.data;\n\t\t}); */\n\n\t\t/* url = \"register/selRegistLevel\";\n\t\taxios.post(url).then(resp=>{\n\t\t\tthis.registlevelList = resp.data.data;\n\t\t}); */\n\n\t\t/* url = \"register/selDoctor\";\n\t\taxios.post(url).then(resp=>{\n\t\t\tthis.doctorList = resp.data.data;\n\t\t}); */\n\n\t\turl = \"register/getCharge\";\n\t\taxios.post(url).then(resp => {\n\t\t\tthis.chargeList = resp.data.data;\n\t\t})\n\t},\n\tmethods: {\n\t\tadd() {\n\t\t\tthis.$refs[\"loginForm\"].validate(valid => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tif (this.addList.isbook) {\n\t\t\t\t\t\tthis.addList.isbook = '1';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.addList.isbook = '0';\n\t\t\t\t\t}\n\t\t\t\t\t// console.log(this.addList);\n\n\t\t\t\t\tlet user = this.$getSessionStorage(\"user\");\n\n\t\t\t\t\tthis.addList.user2.id = user.id;\n\n\t\t\t\t\tthis.addList.visitstate = 1;\n\n\t\t\t\t\tlet url = \"register/insert\";\n\n\t\t\t\t\taxios.post(url, this.addList).then(resp => {\n\t\t\t\t\t\tif (resp.data.data == 1) {\n\t\t\t\t\t\t\talert(\"cg\");\n\t\t\t\t\t\t\tthis.$refs[\"loginForm\"].resetFields();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t},\n\t\t/* getByA(){\n\t\t\tlet url = \"register/getByA\";\n\t\t\taxios.post(url,`noon=${this.addList.noon}&deptId=${this.addList.department.id}`).then(resp=>{\n\t\t\t\tthis.doctorList = resp.data.data;\n\t\t\t\tconsole.log(this.doctorList);\n\t\t\t})\n\t\t} */\n\t\tgetByDate() {\n\t\t\tthis.addList.noon = '';\n\t\t\tthis.addList.department.id = '';\n\t\t\tthis.addList.registlevel.id = '';\n\t\t\tthis.addList.user1.id = '';\n\n\t\t\tlet url = \"register/getByDate\";\n\t\t\taxios.post(url, `date=${this.addList.visitdate}`).then(resp => {\n\n\t\t\t\tthis.dateList = resp.data.data;\n\t\t\t\t// console.log(this.doctorList);\n\t\t\t});\n\t\t},\n\t\tgetDept() {\n\t\t\tthis.addList.registlevel.id = '';\n\t\t\tthis.addList.user1.id = '';\n\t\t\tlet url = \"register/getByDateAndNoon\";\n\t\t\taxios.post(url, `date=${this.addList.visitdate}&noon=${this.addList.noon}`).then(resp => {\n\n\n\t\t\t\tthis.departmentList = resp.data.data;\n\t\t\t\t// console.log(this.departmentList);\n\t\t\t});\n\t\t},\n\t\tgetRegistLv() {\n\t\t\tthis.addList.registlevel.id = '';\n\t\t\tthis.addList.user1.id = '';\n\t\t\tlet url = \"register/getByDateAndNoonAndDeptId\";\n\t\t\taxios.post(url, `date=${this.addList.visitdate}&noon=${this.addList.noon}&deptId=${this.addList.department.id}`).then(\n\t\t\t\tresp => {\n\t\t\t\t\tthis.registlevelList = resp.data.data;\n\t\t\t\t\t// console.log(this.registlevelList);\n\t\t\t\t});\n\t\t},\n\t\tgetDoctor() {\n\t\t\t// this.addList.user1.id = '';\n\t\t\tlet url = \"register/getByDateAndNoonAndDeptIdAndRelId\";\n\t\t\taxios.post(url,\n\t\t\t\t`date=${this.addList.visitdate}&noon=${this.addList.noon}&deptId=${this.addList.department.id}&relId=${this.addList.registlevel.id}`\n\t\t\t).then(resp => {\n\n\t\t\t\tthis.doctorList = resp.data.data;\n\t\t\t\t// console.log(this.doctorList);\n\t\t\t\t// console.log(this.doctorList);\n\t\t\t});\n\t\t},\n\t\tclearr() {\n\t\t\tthis.$refs[\"loginForm\"].resetFields();\n\t\t\tthis.price = '';\n\t\t\tthis.addList.department.id = '';\n\t\t\tthis.addList.registlevel.id = '';\n\t\t\tthis.addList.user1.id = '';\n\t\t}\n\t}\n}\n",{"version":3,"sources":["regist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"regist.vue","sourceRoot":"src/views/reg","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-button size=\"mini\" type=\"primary\" @click=\"add()\">挂号</el-button>\r\n\t\t<el-button size=\"mini\" type=\"primary\" @click=\"clearr()\">清空</el-button>\r\n\r\n\t\t<div>\r\n\t\t\t<br>\r\n\t\t\t挂号信息\r\n\t\t\t<br>\r\n\t\t\t<el-form size=\"mini\" :model=\"addList\" :rules=\"rules\" ref=\"loginForm\">\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"casenumber\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 病历号：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 100px;\" placeholder=\"输入病例号\" v-model=\"addList.casenumber\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"realname\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 姓 名：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 100px;\" placeholder=\"输入姓名\" v-model=\"addList.realname\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"constantitem\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 性 别：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"性别\" style=\"width: 100px;\" v-model=\"addList.constantitem.id\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in sexlist\" :key=\"list.id\" :label=\"list.constantname\" :value=\"list.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<el-form-item prop=\"age\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 年 龄：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 100px;\" placeholder=\"输入年龄\" v-model=\"addList.age\"></el-input>\r\n\t\t\t\t\t\t\t<el-select placeholder=\"性别\" style=\"width: 100px;\" v-model=\"addList.agetype\">\r\n\t\t\t\t\t\t\t\t<el-option label=\"岁\" :key=\"1\" value=\"岁\">岁</el-option>\r\n\t\t\t\t\t\t\t\t<el-option label=\"月\" :key=\"2\" value=\"月\">月</el-option>\r\n\t\t\t\t\t\t\t\t<el-option label=\"天\" :key=\"3\" value=\"天\">天</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"birthdate\">\r\n\t\t\t\t\t\t\t出生日期：\r\n\t\t\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"出生日期\" style=\"width: 150px;\" v-model=\"addList.birthdate\"></el-date-picker>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<el-form-item prop=\"idnumber\">\r\n\t\t\t\t\t\t\t身份证号：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 200px;\" placeholder=\"在此输入身份证号\" v-model=\"addList.idnumber\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<el-form-item prop=\"homeaddress\">\r\n\t\t\t\t\t\t\t家庭住址：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 200px;\" placeholder=\"在此输入家庭住址\" v-model=\"addList.homeaddress\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"settlecategory\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 结算类别：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"类别\" style=\"width: 100px;\" v-model=\"addList.settlecategory.id\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in setList\" :key=\"list.id\" :label=\"list.settlename\" :value=\"list.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"visitdate\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 看诊日期：\r\n\t\t\t\t\t\t\t<el-date-picker type=\"date\" value-format=\"yyyy-MM-dd\" placeholder=\"看诊日期\" style=\"width: 150px;\" v-model=\"addList.visitdate\"\r\n\t\t\t\t\t\t\t @change=\"getByDate()\"></el-date-picker>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"noon\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 午别：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"午别\" style=\"width: 100px;\" v-model=\"addList.noon\" @change=\"getDept()\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in dateList\" :key=\"list.id\" :label=\"list.noon\" :value=\"list.noon\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"department\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 挂号科室：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"挂号科室\" style=\"width: 100px;\" v-model=\"addList.department.id\" @change=\"getRegistLv()\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in departmentList\" :key=\"list.id\" :label=\"list.department.deptname\" :value=\"list.department.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"registlevel\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 号 别：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"号别\" style=\"width: 100px;\" v-model=\"addList.registlevel.id\" @change=\"getDoctor()\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"(item,index) in registlevelList\" :key=\"index\" :label=\"item\" :value=\"index+1\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"user1\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 看诊医生：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"看诊医生\" style=\"width: 100px;\" v-model=\"addList.user1.id\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in doctorList\" :key=\"list.id\" :label=\"list.user.realname\" :value=\"list.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t初始号额：\r\n\t\t\t\t\t\t\t<el-input placeholder=\"初始号额\" style=\"width: 100px;\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t已用号额：\r\n\t\t\t\t\t\t\t<el-input placeholder=\"已用号额\" style=\"width: 100px;\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"isbook\">\r\n\t\t\t\t\t\t\t病历本：\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" v-model=\"addList.isbook\">\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"price\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 应收金额：\r\n\t\t\t\t\t\t\t<el-input placeholder=\"应收金额\" style=\"width: 100px;\" v-model=\"price\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"charge\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 收费方式：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"收费方式\" style=\"width: 100px;\" v-model=\"charge\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in chargeList\" :key=\"list.id\" :label=\"list.constantname\" :value=\"list.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t</el-form>\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlist: {\r\n\t\t\t\t\tconstantitem: {},\r\n\t\t\t\t},\r\n\t\t\t\tsexlist: [],\r\n\t\t\t\tsetList: [],\r\n\t\t\t\tdepartmentList: [],\r\n\t\t\t\tregistlevelList: [],\r\n\t\t\t\tdoctorList: [],\r\n\t\t\t\tchargeList: [],\r\n\t\t\t\tdateList: [],\r\n\t\t\t\taddList: {\r\n\t\t\t\t\tconstantitem: {},\r\n\t\t\t\t\tsettlecategory: {},\r\n\t\t\t\t\tdepartment: {},\r\n\t\t\t\t\tregistlevel: {},\r\n\t\t\t\t\tuser1: {\r\n\t\t\t\t\t\tid: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tuser2: {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tprice: '',\r\n\t\t\t\tcharge: '',\r\n\t\t\t\trules: {\r\n\t\t\t\t\tcasenumber: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入用户名',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tlet url = \"register/getAll\";\r\n\t\t\taxios.post(url).then(resp => {\r\n\t\t\t\tthis.list = resp.data.data;\r\n\t\t\t\t// console.log(this.list);\r\n\t\t\t});\r\n\r\n\t\t\turl = \"register/selectSex\";\r\n\t\t\taxios.post(url).then(resp => {\r\n\t\t\t\tthis.sexlist = resp.data.data;\r\n\t\t\t\t// console.log(this.sexlist);\r\n\t\t\t});\r\n\r\n\t\t\turl = \"register/settleid\"\r\n\t\t\taxios.post(url).then(resp => {\r\n\t\t\t\tthis.setList = resp.data.data;\r\n\t\t\t});\r\n\r\n\t\t\t/* url = \"register/selDepartment\";\r\n\t\t\taxios.post(url).then(resp=>{\r\n\t\t\t\tthis.departmentList = resp.data.data;\r\n\t\t\t}); */\r\n\r\n\t\t\t/* url = \"register/selRegistLevel\";\r\n\t\t\taxios.post(url).then(resp=>{\r\n\t\t\t\tthis.registlevelList = resp.data.data;\r\n\t\t\t}); */\r\n\r\n\t\t\t/* url = \"register/selDoctor\";\r\n\t\t\taxios.post(url).then(resp=>{\r\n\t\t\t\tthis.doctorList = resp.data.data;\r\n\t\t\t}); */\r\n\r\n\t\t\turl = \"register/getCharge\";\r\n\t\t\taxios.post(url).then(resp => {\r\n\t\t\t\tthis.chargeList = resp.data.data;\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tadd() {\r\n\t\t\t\tthis.$refs[\"loginForm\"].validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif (this.addList.isbook) {\r\n\t\t\t\t\t\t\tthis.addList.isbook = '1';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.addList.isbook = '0';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log(this.addList);\r\n\r\n\t\t\t\t\t\tlet user = this.$getSessionStorage(\"user\");\r\n\r\n\t\t\t\t\t\tthis.addList.user2.id = user.id;\r\n\r\n\t\t\t\t\t\tthis.addList.visitstate = 1;\r\n\r\n\t\t\t\t\t\tlet url = \"register/insert\";\r\n\r\n\t\t\t\t\t\taxios.post(url, this.addList).then(resp => {\r\n\t\t\t\t\t\t\tif (resp.data.data == 1) {\r\n\t\t\t\t\t\t\t\talert(\"cg\");\r\n\t\t\t\t\t\t\t\tthis.$refs[\"loginForm\"].resetFields();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\t/* getByA(){\r\n\t\t\t\tlet url = \"register/getByA\";\r\n\t\t\t\taxios.post(url,`noon=${this.addList.noon}&deptId=${this.addList.department.id}`).then(resp=>{\r\n\t\t\t\t\tthis.doctorList = resp.data.data;\r\n\t\t\t\t\tconsole.log(this.doctorList);\r\n\t\t\t\t})\r\n\t\t\t} */\r\n\t\t\tgetByDate() {\r\n\t\t\t\tthis.addList.noon = '';\r\n\t\t\t\tthis.addList.department.id = '';\r\n\t\t\t\tthis.addList.registlevel.id = '';\r\n\t\t\t\tthis.addList.user1.id = '';\r\n\r\n\t\t\t\tlet url = \"register/getByDate\";\r\n\t\t\t\taxios.post(url, `date=${this.addList.visitdate}`).then(resp => {\r\n\r\n\t\t\t\t\tthis.dateList = resp.data.data;\r\n\t\t\t\t\t// console.log(this.doctorList);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetDept() {\r\n\t\t\t\tthis.addList.registlevel.id = '';\r\n\t\t\t\tthis.addList.user1.id = '';\r\n\t\t\t\tlet url = \"register/getByDateAndNoon\";\r\n\t\t\t\taxios.post(url, `date=${this.addList.visitdate}&noon=${this.addList.noon}`).then(resp => {\r\n\r\n\r\n\t\t\t\t\tthis.departmentList = resp.data.data;\r\n\t\t\t\t\t// console.log(this.departmentList);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetRegistLv() {\r\n\t\t\t\tthis.addList.registlevel.id = '';\r\n\t\t\t\tthis.addList.user1.id = '';\r\n\t\t\t\tlet url = \"register/getByDateAndNoonAndDeptId\";\r\n\t\t\t\taxios.post(url, `date=${this.addList.visitdate}&noon=${this.addList.noon}&deptId=${this.addList.department.id}`).then(\r\n\t\t\t\t\tresp => {\r\n\t\t\t\t\t\tthis.registlevelList = resp.data.data;\r\n\t\t\t\t\t\t// console.log(this.registlevelList);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetDoctor() {\r\n\t\t\t\t// this.addList.user1.id = '';\r\n\t\t\t\tlet url = \"register/getByDateAndNoonAndDeptIdAndRelId\";\r\n\t\t\t\taxios.post(url,\r\n\t\t\t\t\t`date=${this.addList.visitdate}&noon=${this.addList.noon}&deptId=${this.addList.department.id}&relId=${this.addList.registlevel.id}`\r\n\t\t\t\t).then(resp => {\r\n\r\n\t\t\t\t\tthis.doctorList = resp.data.data;\r\n\t\t\t\t\t// console.log(this.doctorList);\r\n\t\t\t\t\t// console.log(this.doctorList);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclearr() {\r\n\t\t\t\tthis.$refs[\"loginForm\"].resetFields();\r\n\t\t\t\tthis.price = '';\r\n\t\t\t\tthis.addList.department.id = '';\r\n\t\t\t\tthis.addList.registlevel.id = '';\r\n\t\t\t\tthis.addList.user1.id = '';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.scolor {\r\n\t\tcolor: red;\r\n\t}\r\n</style>\n"]}]}