{"remainingRequest":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\reg\\regist.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\reg\\regist.vue","mtime":1602765842234},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1600741744010},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js","mtime":1600741754219}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      list: {\n        constantitem: {}\n      },\n      sexlist: [],\n      setList: [],\n      departmentList: [],\n      registlevelList: [],\n      doctorList: [],\n      chargeList: [],\n      dateList: [],\n      addList: {\n        constantitem: {},\n        settlecategory: {},\n        department: {},\n        registlevel: {},\n        user1: {\n          id: ''\n        },\n        user2: {}\n      },\n      price: '',\n      charge: '',\n      rules: {\n        casenumber: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: ['blur', 'change']\n        }]\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var url = \"register/getAll\";\n    axios.post(url).then(function (resp) {\n      _this.list = resp.data.data; // console.log(this.list);\n    });\n    url = \"register/selectSex\";\n    axios.post(url).then(function (resp) {\n      _this.sexlist = resp.data.data; // console.log(this.sexlist);\n    });\n    url = \"register/settleid\";\n    axios.post(url).then(function (resp) {\n      _this.setList = resp.data.data;\n    });\n    /* url = \"register/selDepartment\";\n    axios.post(url).then(resp=>{\n    \tthis.departmentList = resp.data.data;\n    }); */\n\n    /* url = \"register/selRegistLevel\";\n    axios.post(url).then(resp=>{\n    \tthis.registlevelList = resp.data.data;\n    }); */\n\n    /* url = \"register/selDoctor\";\n    axios.post(url).then(resp=>{\n    \tthis.doctorList = resp.data.data;\n    }); */\n\n    url = \"register/getCharge\";\n    axios.post(url).then(function (resp) {\n      _this.chargeList = resp.data.data;\n    });\n  },\n  methods: {\n    add: function add() {\n      var _this2 = this;\n\n      this.$refs[\"loginForm\"].validate(function (valid) {\n        if (valid) {\n          if (_this2.addList.isbook) {\n            _this2.addList.isbook = '1';\n          } else {\n            _this2.addList.isbook = '0';\n          } // console.log(this.addList);\n\n\n          var user = _this2.$getSessionStorage(\"user\");\n\n          _this2.addList.user2.id = user.id;\n          _this2.addList.visitstate = 1;\n          var url = \"register/insert\";\n          axios.post(url, _this2.addList).then(function (resp) {\n            if (resp.data.data == 1) {\n              alert(\"cg\");\n\n              _this2.$refs[\"loginForm\"].resetFields();\n            }\n          });\n        }\n      });\n    },\n\n    /* getByA(){\n    \tlet url = \"register/getByA\";\n    \taxios.post(url,`noon=${this.addList.noon}&deptId=${this.addList.department.id}`).then(resp=>{\n    \t\tthis.doctorList = resp.data.data;\n    \t\tconsole.log(this.doctorList);\n    \t})\n    } */\n    getByDate: function getByDate() {\n      var _this3 = this;\n\n      this.addList.noon = '';\n      this.addList.department.id = '';\n      this.addList.registlevel.id = '';\n      this.addList.user1.id = '';\n      var url = \"register/getByDate\";\n      axios.post(url, \"date=\".concat(this.addList.visitdate)).then(function (resp) {\n        _this3.dateList = resp.data.data; // console.log(this.doctorList);\n      });\n    },\n    getDept: function getDept() {\n      var _this4 = this;\n\n      this.addList.registlevel.id = '';\n      this.addList.user1.id = '';\n      var url = \"register/getByDateAndNoon\";\n      axios.post(url, \"date=\".concat(this.addList.visitdate, \"&noon=\").concat(this.addList.noon)).then(function (resp) {\n        _this4.departmentList = resp.data.data; // console.log(this.departmentList);\n      });\n    },\n    getRegistLv: function getRegistLv() {\n      var _this5 = this;\n\n      this.addList.registlevel.id = '';\n      this.addList.user1.id = '';\n      var url = \"register/getByDateAndNoonAndDeptId\";\n      axios.post(url, \"date=\".concat(this.addList.visitdate, \"&noon=\").concat(this.addList.noon, \"&deptId=\").concat(this.addList.department.id)).then(function (resp) {\n        _this5.registlevelList = resp.data.data; // console.log(this.registlevelList);\n      });\n    },\n    getDoctor: function getDoctor() {\n      var _this6 = this;\n\n      // this.addList.user1.id = '';\n      var url = \"register/getByDateAndNoonAndDeptIdAndRelId\";\n      axios.post(url, \"date=\".concat(this.addList.visitdate, \"&noon=\").concat(this.addList.noon, \"&deptId=\").concat(this.addList.department.id, \"&relId=\").concat(this.addList.registlevel.id)).then(function (resp) {\n        _this6.doctorList = resp.data.data; // console.log(this.doctorList);\n        // console.log(this.doctorList);\n      });\n    },\n    clearr: function clearr() {\n      this.$refs[\"loginForm\"].resetFields();\n      this.price = '';\n      this.addList.department.id = '';\n      this.addList.registlevel.id = '';\n      this.addList.user1.id = '';\n    }\n  }\n};",{"version":3,"sources":["regist.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-button size=\"mini\" type=\"primary\" @click=\"add()\">挂号</el-button>\r\n\t\t<el-button size=\"mini\" type=\"primary\" @click=\"clearr()\">清空</el-button>\r\n\r\n\t\t<div>\r\n\t\t\t<br>\r\n\t\t\t挂号信息\r\n\t\t\t<br>\r\n\t\t\t<el-form size=\"mini\" :model=\"addList\" :rules=\"rules\" ref=\"loginForm\">\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"casenumber\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 病历号：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 100px;\" placeholder=\"输入病例号\" v-model=\"addList.casenumber\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"realname\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 姓 名：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 100px;\" placeholder=\"输入姓名\" v-model=\"addList.realname\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"constantitem\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 性 别：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"性别\" style=\"width: 100px;\" v-model=\"addList.constantitem.id\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in sexlist\" :key=\"list.id\" :label=\"list.constantname\" :value=\"list.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<el-form-item prop=\"age\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 年 龄：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 100px;\" placeholder=\"输入年龄\" v-model=\"addList.age\"></el-input>\r\n\t\t\t\t\t\t\t<el-select placeholder=\"性别\" style=\"width: 100px;\" v-model=\"addList.agetype\">\r\n\t\t\t\t\t\t\t\t<el-option label=\"岁\" :key=\"1\" value=\"岁\">岁</el-option>\r\n\t\t\t\t\t\t\t\t<el-option label=\"月\" :key=\"2\" value=\"月\">月</el-option>\r\n\t\t\t\t\t\t\t\t<el-option label=\"天\" :key=\"3\" value=\"天\">天</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"birthdate\">\r\n\t\t\t\t\t\t\t出生日期：\r\n\t\t\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"出生日期\" style=\"width: 150px;\" v-model=\"addList.birthdate\"></el-date-picker>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<el-form-item prop=\"idnumber\">\r\n\t\t\t\t\t\t\t身份证号：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 200px;\" placeholder=\"在此输入身份证号\" v-model=\"addList.idnumber\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<el-form-item prop=\"homeaddress\">\r\n\t\t\t\t\t\t\t家庭住址：\r\n\t\t\t\t\t\t\t<el-input style=\"width: 200px;\" placeholder=\"在此输入家庭住址\" v-model=\"addList.homeaddress\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"settlecategory\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 结算类别：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"类别\" style=\"width: 100px;\" v-model=\"addList.settlecategory.id\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in setList\" :key=\"list.id\" :label=\"list.settlename\" :value=\"list.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"visitdate\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 看诊日期：\r\n\t\t\t\t\t\t\t<el-date-picker type=\"date\" value-format=\"yyyy-MM-dd\" placeholder=\"看诊日期\" style=\"width: 150px;\" v-model=\"addList.visitdate\"\r\n\t\t\t\t\t\t\t @change=\"getByDate()\"></el-date-picker>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"noon\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 午别：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"午别\" style=\"width: 100px;\" v-model=\"addList.noon\" @change=\"getDept()\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in dateList\" :key=\"list.id\" :label=\"list.noon\" :value=\"list.noon\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"department\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 挂号科室：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"挂号科室\" style=\"width: 100px;\" v-model=\"addList.department.id\" @change=\"getRegistLv()\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in departmentList\" :key=\"list.id\" :label=\"list.department.deptname\" :value=\"list.department.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"registlevel\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 号 别：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"号别\" style=\"width: 100px;\" v-model=\"addList.registlevel.id\" @change=\"getDoctor()\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"(item,index) in registlevelList\" :key=\"index\" :label=\"item\" :value=\"index+1\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"user1\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 看诊医生：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"看诊医生\" style=\"width: 100px;\" v-model=\"addList.user1.id\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in doctorList\" :key=\"list.id\" :label=\"list.user.realname\" :value=\"list.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t初始号额：\r\n\t\t\t\t\t\t\t<el-input placeholder=\"初始号额\" style=\"width: 100px;\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t已用号额：\r\n\t\t\t\t\t\t\t<el-input placeholder=\"已用号额\" style=\"width: 100px;\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"isbook\">\r\n\t\t\t\t\t\t\t病历本：\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" v-model=\"addList.isbook\">\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"price\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 应收金额：\r\n\t\t\t\t\t\t\t<el-input placeholder=\"应收金额\" style=\"width: 100px;\" v-model=\"price\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<el-form-item prop=\"charge\">\r\n\t\t\t\t\t\t\t<span class=\"scolor\">*</span> 收费方式：\r\n\t\t\t\t\t\t\t<el-select placeholder=\"收费方式\" style=\"width: 100px;\" v-model=\"charge\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"list in chargeList\" :key=\"list.id\" :label=\"list.constantname\" :value=\"list.id\">\r\n\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t</el-form>\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlist: {\r\n\t\t\t\t\tconstantitem: {},\r\n\t\t\t\t},\r\n\t\t\t\tsexlist: [],\r\n\t\t\t\tsetList: [],\r\n\t\t\t\tdepartmentList: [],\r\n\t\t\t\tregistlevelList: [],\r\n\t\t\t\tdoctorList: [],\r\n\t\t\t\tchargeList: [],\r\n\t\t\t\tdateList: [],\r\n\t\t\t\taddList: {\r\n\t\t\t\t\tconstantitem: {},\r\n\t\t\t\t\tsettlecategory: {},\r\n\t\t\t\t\tdepartment: {},\r\n\t\t\t\t\tregistlevel: {},\r\n\t\t\t\t\tuser1: {\r\n\t\t\t\t\t\tid: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tuser2: {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tprice: '',\r\n\t\t\t\tcharge: '',\r\n\t\t\t\trules: {\r\n\t\t\t\t\tcasenumber: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入用户名',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tlet url = \"register/getAll\";\r\n\t\t\taxios.post(url).then(resp => {\r\n\t\t\t\tthis.list = resp.data.data;\r\n\t\t\t\t// console.log(this.list);\r\n\t\t\t});\r\n\r\n\t\t\turl = \"register/selectSex\";\r\n\t\t\taxios.post(url).then(resp => {\r\n\t\t\t\tthis.sexlist = resp.data.data;\r\n\t\t\t\t// console.log(this.sexlist);\r\n\t\t\t});\r\n\r\n\t\t\turl = \"register/settleid\"\r\n\t\t\taxios.post(url).then(resp => {\r\n\t\t\t\tthis.setList = resp.data.data;\r\n\t\t\t});\r\n\r\n\t\t\t/* url = \"register/selDepartment\";\r\n\t\t\taxios.post(url).then(resp=>{\r\n\t\t\t\tthis.departmentList = resp.data.data;\r\n\t\t\t}); */\r\n\r\n\t\t\t/* url = \"register/selRegistLevel\";\r\n\t\t\taxios.post(url).then(resp=>{\r\n\t\t\t\tthis.registlevelList = resp.data.data;\r\n\t\t\t}); */\r\n\r\n\t\t\t/* url = \"register/selDoctor\";\r\n\t\t\taxios.post(url).then(resp=>{\r\n\t\t\t\tthis.doctorList = resp.data.data;\r\n\t\t\t}); */\r\n\r\n\t\t\turl = \"register/getCharge\";\r\n\t\t\taxios.post(url).then(resp => {\r\n\t\t\t\tthis.chargeList = resp.data.data;\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tadd() {\r\n\t\t\t\tthis.$refs[\"loginForm\"].validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif (this.addList.isbook) {\r\n\t\t\t\t\t\t\tthis.addList.isbook = '1';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.addList.isbook = '0';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log(this.addList);\r\n\r\n\t\t\t\t\t\tlet user = this.$getSessionStorage(\"user\");\r\n\r\n\t\t\t\t\t\tthis.addList.user2.id = user.id;\r\n\r\n\t\t\t\t\t\tthis.addList.visitstate = 1;\r\n\r\n\t\t\t\t\t\tlet url = \"register/insert\";\r\n\r\n\t\t\t\t\t\taxios.post(url, this.addList).then(resp => {\r\n\t\t\t\t\t\t\tif (resp.data.data == 1) {\r\n\t\t\t\t\t\t\t\talert(\"cg\");\r\n\t\t\t\t\t\t\t\tthis.$refs[\"loginForm\"].resetFields();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\t/* getByA(){\r\n\t\t\t\tlet url = \"register/getByA\";\r\n\t\t\t\taxios.post(url,`noon=${this.addList.noon}&deptId=${this.addList.department.id}`).then(resp=>{\r\n\t\t\t\t\tthis.doctorList = resp.data.data;\r\n\t\t\t\t\tconsole.log(this.doctorList);\r\n\t\t\t\t})\r\n\t\t\t} */\r\n\t\t\tgetByDate() {\r\n\t\t\t\tthis.addList.noon = '';\r\n\t\t\t\tthis.addList.department.id = '';\r\n\t\t\t\tthis.addList.registlevel.id = '';\r\n\t\t\t\tthis.addList.user1.id = '';\r\n\r\n\t\t\t\tlet url = \"register/getByDate\";\r\n\t\t\t\taxios.post(url, `date=${this.addList.visitdate}`).then(resp => {\r\n\r\n\t\t\t\t\tthis.dateList = resp.data.data;\r\n\t\t\t\t\t// console.log(this.doctorList);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetDept() {\r\n\t\t\t\tthis.addList.registlevel.id = '';\r\n\t\t\t\tthis.addList.user1.id = '';\r\n\t\t\t\tlet url = \"register/getByDateAndNoon\";\r\n\t\t\t\taxios.post(url, `date=${this.addList.visitdate}&noon=${this.addList.noon}`).then(resp => {\r\n\r\n\r\n\t\t\t\t\tthis.departmentList = resp.data.data;\r\n\t\t\t\t\t// console.log(this.departmentList);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetRegistLv() {\r\n\t\t\t\tthis.addList.registlevel.id = '';\r\n\t\t\t\tthis.addList.user1.id = '';\r\n\t\t\t\tlet url = \"register/getByDateAndNoonAndDeptId\";\r\n\t\t\t\taxios.post(url, `date=${this.addList.visitdate}&noon=${this.addList.noon}&deptId=${this.addList.department.id}`).then(\r\n\t\t\t\t\tresp => {\r\n\t\t\t\t\t\tthis.registlevelList = resp.data.data;\r\n\t\t\t\t\t\t// console.log(this.registlevelList);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetDoctor() {\r\n\t\t\t\t// this.addList.user1.id = '';\r\n\t\t\t\tlet url = \"register/getByDateAndNoonAndDeptIdAndRelId\";\r\n\t\t\t\taxios.post(url,\r\n\t\t\t\t\t`date=${this.addList.visitdate}&noon=${this.addList.noon}&deptId=${this.addList.department.id}&relId=${this.addList.registlevel.id}`\r\n\t\t\t\t).then(resp => {\r\n\r\n\t\t\t\t\tthis.doctorList = resp.data.data;\r\n\t\t\t\t\t// console.log(this.doctorList);\r\n\t\t\t\t\t// console.log(this.doctorList);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclearr() {\r\n\t\t\t\tthis.$refs[\"loginForm\"].resetFields();\r\n\t\t\t\tthis.price = '';\r\n\t\t\t\tthis.addList.department.id = '';\r\n\t\t\t\tthis.addList.registlevel.id = '';\r\n\t\t\t\tthis.addList.user1.id = '';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.scolor {\r\n\t\tcolor: red;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views/reg"}]}