{"remainingRequest":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\sys\\Dept.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\sys\\Dept.vue","mtime":1602639492327},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1600741744010},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js","mtime":1600741754219},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1600741744010},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js","mtime":1600741754219}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.map\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      pageInfo: {\n        pageNum: 1,\n        pageSize: 5\n      },\n      keyword: \"\",\n      type: {\n        deptcode: '',\n        deptname: '',\n        deptcategory: {}\n      },\n      xzks: false,\n      bjks: false,\n      typeList: [],\n      addtype: {\n        // deptcode:'',\n        // deptname:'',\n        deptcategory: {},\n        delmark: 1\n      },\n      ids: []\n    };\n  },\n  created: function created() {\n    this.showData(1, this.pageInfo.pageSize, this.keyword);\n  },\n  methods: {\n    showData: function showData(pageNum, pageSize, keyword) {\n      var _this = this;\n\n      var url = \"department/getPaged\";\n      var params = \"pageNum=\".concat(pageNum, \"&pageSize=\").concat(pageSize, \"&keyword=\").concat(keyword);\n      axios.post(url, params).then(function (resp) {\n        _this.pageInfo = resp.data.data;\n\n        for (var i = 0; i < _this.pageInfo.list.length; i++) {\n          if (_this.pageInfo.list[i].depttype == 1) {\n            _this.pageInfo.list[i].depttype = \"临床\";\n          } else if (_this.pageInfo.list[i].depttype == 2) {\n            _this.pageInfo.list[i].depttype = \"医技\";\n          } else if (_this.pageInfo.list[i].depttype == 3) {\n            _this.pageInfo.list[i].depttype = \"财务\";\n          } else if (_this.pageInfo.list[i].depttype == 4) {\n            _this.pageInfo.list[i].depttype = \"行政\";\n          } else if (_this.pageInfo.list[i].depttype == 5) {\n            _this.pageInfo.list[i].depttype = \"其他\";\n          }\n        }\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(pageNum) {\n      this.showData(pageNum, this.pageInfo.pageSize, this.keyword);\n    },\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.showData(1, pageSize, this.keyword);\n      this.pageInfo.pageSize = pageSize;\n    },\n    search: function search() {\n      this.showData(1, this.pageInfo.pageSize, this.keyword);\n    },\n    handleDepartmentEdit: function handleDepartmentEdit(scope) {\n      var _this2 = this;\n\n      this.bjks = true;\n      this.type = scope.row;\n      console.log(scope.row);\n      var url = \"constantItem/getAll\";\n      axios.post(url, \"id=\".concat(1)).then(function (resp) {\n        _this2.typeList = resp.data.data; // console.log(this.typeList);\n      });\n    },\n    updateType: function updateType(scope) {\n      var _this3 = this;\n\n      if (this.type.depttype == \"临床\") {\n        this.type.depttype = 1;\n      } else if (this.type.depttype == \"医技\") {\n        this.type.depttype = 2;\n      } else if (this.type.depttype == \"财务\") {\n        this.type.depttype = 3;\n      } else if (this.type.depttype == \"行政\") {\n        this.type.depttype = 4;\n      } else if (this.type.depttype == \"其它\") {\n        this.type.depttype = 5;\n      }\n\n      var url = \"department/update\";\n      console.log(this.type);\n      axios.post(url, this.type).then(function (resp) {\n        if (resp.data.data == 1) {\n          _this3.showData(1, _this3.pageInfo.pageSize, _this3.keyword);\n\n          _this3.bjks = false;\n        }\n      });\n    },\n    handleDepartmentDel: function handleDepartmentDel(scope) {\n      var _this4 = this;\n\n      this.$confirm(\"是否删除\", \"提示\").then(function () {\n        var url = \"department/delete\";\n        axios.post(url, \"id=\".concat(scope.row.id)).then(function (resp) {\n          if (resp.data.data == 1) {\n            _this4.$alert(\"删除成功！\");\n\n            _this4.showData(1, _this4.pageInfo.pageSize, _this4.keyword);\n          }\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    },\n    handleDepartmentAdd: function handleDepartmentAdd() {\n      var _this5 = this;\n\n      this.xzks = true;\n      var url = \"constantItem/getAll\";\n      axios.post(url, \"id=\".concat(1)).then(function (resp) {\n        _this5.typeList = resp.data.data; // console.log(this.typeList);\n      });\n    },\n    insertType: function insertType() {\n      var _this6 = this;\n\n      var url = \"department/insert\";\n      axios.post(url, this.addtype).then(function (resp) {\n        if (resp.data.data == 1) {\n          //\tconsole.log(addtype);\n          _this6.showData(1, _this6.pageInfo.pageSize, _this6.keyword);\n\n          _this6.xzks = false;\n        }\n      });\n    },\n    handleSelectionChange: function handleSelectionChange(item) {\n      this.ids = item.map(function (o) {\n        return o.id;\n      });\n    },\n    batchDelete: function batchDelete() {\n      var _this7 = this;\n\n      this.$confirm(\"是否删除？\", \"提示\").then(function () {\n        var url = \"department/batchDelete\";\n        axios.post(url, _this7.ids).then(function (resp) {\n          if (resp.data.data > 0) {\n            _this7.$alert(\"删除成功！\");\n\n            _this7.showData(1, _this7.pageInfo.pageSize, _this7.keyword);\n          }\n        });\n      }).catch(function (err) {\n        _this7.$alert(err);\n      });\n    }\n  }\n};",{"version":3,"sources":["Dept.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div>\n\t\t<el-form :inline=\"true\" size=\"mini\">\n\t\t\t<el-form-item>\n\t\t\t\t<el-input v-model=\"keyword\" placeholder=\"请输入科室编号或名称\"></el-input>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item>\n\t\t\t\t<el-button type=\"primary\" @click=\"search()\">查询科室</el-button>\n\t\t\t\t<el-button type=\"primary\" @click=\"handleDepartmentAdd()\">新增科室</el-button>\n\t\t\t</el-form-item>\n\t\t</el-form>\n\t\t<el-table :data=\"pageInfo.list\"  @selection-change=\"handleSelectionChange\">\n\t\t\t<el-table-column type=\"selection\"></el-table-column>\n\t\t\t<el-table-column label=\"科室编号\" width=\"120\" prop=\"id\"></el-table-column>\n\t\t\t<el-table-column label=\"科室编码\" width=\"120\" prop=\"deptcode\" ></el-table-column>\n\t\t\t<el-table-column label=\"科室名称\" width=\"120\" prop=\"deptname\"></el-table-column>\n\t\t\t<el-table-column label=\"科室分类\" width=\"120\" prop=\"deptcategory.name\"></el-table-column>\n\t\t\t<el-table-column label=\"科室类型\" width=\"120\" prop=\"depttype\"></el-table-column>\n\t\t\t<el-table-column label=\"操作\" width=\"200\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"handleDepartmentEdit(scope)\" size=\"mini\">编辑</el-button>\n\t\t\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click=\"handleDepartmentDel(scope)\">删除</el-button>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\t\t<el-form :inline=\"true\" size=\"mini\">\n\t\t\t<el-form-item style=\"padding-left: 100px;\">\n\t\t\t\t<el-button type=\"danger\" size=\"mini\" :disabled=\"ids.length==0\" @click=\"batchDelete\">批量删除</el-button>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item style=\"padding-left: 120px;\">\n\t\t\t\t<el-pagination\n\t\t\t\t :total=\"pageInfo.total\"\n\t\t\t\t :page-count=\"pageInfo.nevigatePages\"\n\t\t\t\t :page-size=\"pageInfo.pageSize\"\n\t\t\t\t :current-page=\"pageInfo.pageNum\"\n\t\t\t\t layout=\"prev,pager,next\"\n\t\t\t\t background\n\t\t\t\t @current-change=\"handleCurrentChange\"\n\t\t\t\t @size-change=\"handleSizeChange\"></el-pagination>\n\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t\t<el-dialog :visible.sync=\"xzks\" title=\"新增科室\" center>\n\t\t\t\t<el-form :inline=\"true\" align=\"center\" size=\"mini\" width=\"500px\">\n\t\t\t\t\t<el-row>\n\t\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t\t<el-form-item label=\"科室编码:\" label-width=\"80px\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"addtype.deptcode\" placeholder=\"科室编码\" style=\"width:120px;\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t\t<el-form-item label=\"科室名称:\" label-width=\"80px\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"addtype.deptname\" placeholder=\"科室名称\" style=\"width:120px;\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t</el-row>\n\t\t\t\t\t<el-row>\n\t\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t\t<el-form-item  label=\"科室分类:\" label-width=\"80px\">\n\t\t\t\t\t\t\t<el-select style=\"width:120px;\" placeholder=\"所属分类\" v-model=\"addtype.deptcategory.id\">\n\t\t\t\t\t\t\t\t<el-option\n\t\t\t\t\t\t\t\t\tv-for=\"list in typeList\"\n\t\t\t\t\t\t\t\t\t:key=\"list.id\"\n\t\t\t\t\t\t\t\t\t:label=\"list.name\"\n\t\t\t\t\t\t\t\t\t:value=\"list.id\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t\t<el-form-item  label=\"科室类别:\" label-width=\"80px\">\n\t\t\t\t\t\t\t<el-select style=\"width:120px;\" placeholder=\"所属分类\"  v-model=\"addtype.depttype\">\n\t\t\t\t\t\t\t\t<el-option label=\"临床\" value=\"1\">临床</el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"医技\" value=\"2\">医技</el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"财务\" value=\"3\">财务</el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"行政\" value=\"4\">行政</el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"其他\" value=\"5\">其他</el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t</el-row>\n\t\t\t\t\t\n\t\t\t\t\t<el-form-item>\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"insertType()\">保存</el-button>\n\t\t\t\t\t\t<el-button type=\"warning\" @click=\"xzks=false\">取消</el-button>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</el-dialog>\n\t\t\t<el-dialog :visible.sync=\"bjks\" title=\"编辑科室\" center>\n\t\t\t\t<el-form :inline=\"true\" align=\"center\" size=\"mini\" width=\"500px\">\n\t\t\t\t\t<el-row>\n\t\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t\t<el-form-item label=\"科室编码:\" label-width=\"80px\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"type.deptcode\" style=\"width:120px;\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t\t<el-form-item label=\"科室名称:\" label-width=\"80px\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"type.deptname\" style=\"width:120px;\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t</el-row>\n\t\t\t\t\t<el-row>\n\t\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t\t<el-form-item  label=\"科室分类:\" label-width=\"80px\">\n\t\t\t\t\t\t\t<el-select style=\"width:120px;\" v-model=\"type.deptcategory.id\">\n\t\t\t\t\t\t\t\t<el-option\n\t\t\t\t\t\t\t\t\tv-for=\"list in typeList\"\n\t\t\t\t\t\t\t\t\t:key=\"list.id\"\n\t\t\t\t\t\t\t\t\t:label=\"list.name\"\n\t\t\t\t\t\t\t\t\t:value=\"list.id\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t\t<el-form-item  label=\"科室类别:\" label-width=\"80px\">\n\t\t\t\t\t\t\t<el-select style=\"width:120px;\" v-model=\"type.depttype\">\n\t\t\t\t\t\t\t\t<el-option label=\"临床\" value=\"1\">临床</el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"医技\" value=\"2\">医技</el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"财务\" value=\"3\">财务</el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"行政\" value=\"4\">行政</el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"其他\" value=\"5\">其他</el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t</el-row>\n\t\t\t\t\t\n\t\t\t\t\t<el-form-item>\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"updateType()\">保存</el-button>\n\t\t\t\t\t\t<el-button type=\"warning\" @click=\"bjks=false\">取消</el-button>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</el-dialog>\n\t</div>\n\n\n</template>\n\n<script>\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tpageInfo:{\n\t\t\t\t\tpageNum:1,\n\t\t\t\t\tpageSize:5,\n\t\t\t\t\n\t\t\t\t},\n\t\t\t\tkeyword:\"\",\n\t\t\t\ttype:{\n\t\t\t\t\tdeptcode:'',\n\t\t\t\t\tdeptname:'',\n\t\t\t\t\tdeptcategory:{}\n\t\t\t\t},\n\t\t\t\txzks:false,\n\t\t\t\tbjks:false,\n\t\t\t\ttypeList:[],\n\t\t\t\taddtype:{\n\t\t\t\t\t// deptcode:'',\n\t\t\t\t\t// deptname:'',\n\t\t\t\t\tdeptcategory:{},\n\t\t\t\t\tdelmark:1\n\t\t\t\t},\n\t\t\t\tids:[]\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tthis.showData(1,this.pageInfo.pageSize,this.keyword);\n\t\t},\n\t\tmethods:{\n\t\t\tshowData(pageNum,pageSize,keyword){\n\t\t\t\tlet url = \"department/getPaged\";\n\t\t\t\tlet params = `pageNum=${pageNum}&pageSize=${pageSize}&keyword=${keyword}`;\n\t\t\t\taxios.post(url,params).then(resp=>{\n\t\t\t\t\tthis.pageInfo = resp.data.data;\n\t\t\t\t\t\n\t\t\t\t\tfor(let i = 0;i<this.pageInfo.list.length;i++){\n\t\t\t\t\t\tif(this.pageInfo.list[i].depttype == 1){\n\t\t\t\t\t\t\tthis.pageInfo.list[i].depttype = \"临床\"\n\t\t\t\t\t\t}else if(this.pageInfo.list[i].depttype == 2){\n\t\t\t\t\t\t\tthis.pageInfo.list[i].depttype = \"医技\"\n\t\t\t\t\t\t}else if(this.pageInfo.list[i].depttype == 3){\n\t\t\t\t\t\t\tthis.pageInfo.list[i].depttype = \"财务\"\n\t\t\t\t\t\t}else if(this.pageInfo.list[i].depttype == 4){\n\t\t\t\t\t\t\tthis.pageInfo.list[i].depttype = \"行政\"\n\t\t\t\t\t\t}else if(this.pageInfo.list[i].depttype == 5){\n\t\t\t\t\t\t\tthis.pageInfo.list[i].depttype = \"其他\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t \n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleCurrentChange(pageNum){\n\t\t\t\tthis.showData(pageNum,this.pageInfo.pageSize,this.keyword);\n\t\t\t},\n\t\t\thandleSizeChange(pageSize){\n\t\t\t\tthis.showData(1,pageSize,this.keyword);\n\t\t\t\tthis.pageInfo.pageSize = pageSize;\n\t\t\t},\n\t\t\tsearch(){\n\t\t\t\tthis.showData(1,this.pageInfo.pageSize,this.keyword);\n\t\t\t},\n\t\t\thandleDepartmentEdit(scope){\n\t\t\tthis.bjks = true;\n\t\t\tthis.type = scope.row;\n\t\t\tconsole.log(scope.row);\n\t\t\tlet url = \"constantItem/getAll\";\n\t\t\taxios.post(url,`id=${1}`).then(resp=>{\n\t\t\t\tthis.typeList = resp.data.data;\n\t\t\t\t// console.log(this.typeList);\n\t\t\t});\n\t\t\t},\n\t\t\tupdateType(scope){\n\t\t\t\tif(this.type.depttype == \"临床\"){\n\t\t\t\t\tthis.type.depttype = 1;\n\t\t\t\t}else if(this.type.depttype == \"医技\"){\n\t\t\t\t\tthis.type.depttype = 2;\n\t\t\t\t}else if(this.type.depttype == \"财务\"){\n\t\t\t\t\tthis.type.depttype = 3;\n\t\t\t\t}else if(this.type.depttype == \"行政\"){\n\t\t\t\t\tthis.type.depttype = 4;\n\t\t\t\t}else if(this.type.depttype == \"其它\"){\n\t\t\t\t\tthis.type.depttype = 5;\n\t\t\t\t}\n\t\t\t\tlet url = \"department/update\";\n\t\t\t\tconsole.log(this.type);\n\t\t\t\taxios.post(url,this.type).then(resp=>{\n\t\t\t\t\tif(resp.data.data == 1){\n\t\t\t\t\tthis.showData(1,this.pageInfo.pageSize,this.keyword);\n\t\t\t\t\tthis.bjks=false;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleDepartmentDel(scope){\n\t\t\t\tthis.$confirm(\"是否删除\",\"提示\").then(()=>{\n\t\t\t\t\tlet url = \"department/delete\";\n\t\t\t\t\taxios.post(url,`id=${scope.row.id}`).then(resp=>{\n\t\t\t\t\t\tif(resp.data.data ==1){\n\t\t\t\t\t\t\tthis.$alert(\"删除成功！\");\n\t\t\t\t\t\t\tthis.showData(1,this.pageInfo.pageSize,this.keyword)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}).catch(err=>console.log(err));\n\t\t\t\t\n\t\t\t},\n\t\t\thandleDepartmentAdd(){\n\t\t\t\tthis.xzks = true;\n\t\t\t\t\n\t\t\t\tlet url = \"constantItem/getAll\";\n\t\t\t\taxios.post(url,`id=${1}`).then(resp=>{\n\t\t\t\t\tthis.typeList = resp.data.data;\n\t\t\t\t\t// console.log(this.typeList);\n\t\t\t\t});\n\t\t\t},\n\t\t\tinsertType(){\n\t\t\t\tlet url = \"department/insert\";\n\t\t\t\taxios.post(url,this.addtype).then(resp=>{\n\t\t\t\t\tif(resp.data.data ==1){\n\t\t\t\t\t//\tconsole.log(addtype);\n\t\t\t\t\t\tthis.showData(1,this.pageInfo.pageSize,this.keyword);\n\t\t\t\t\t\tthis.xzks=false;\n\t\t\t\t\t} \n\t\t\t\t});\n\t\t\t},\n\t\t\thandleSelectionChange(item){\n\t\t\t\tthis.ids = item.map(o=>o.id);\n\t\t\t},\n\t\t\tbatchDelete(){\n\t\t\t\tthis.$confirm(\"是否删除？\",\"提示\").then(()=>{\n\t\t\t\t\tlet url = \"department/batchDelete\";\n\t\t\t\t\taxios.post(url,this.ids).then(resp=>{\n\t\t\t\t\t\tif(resp.data.data > 0){\n\t\t\t\t\t\t\tthis.$alert(\"删除成功！\");\n\t\t\t\t\t\t\tthis.showData(1,this.pageInfo.pageSize,this.keyword);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tthis.$alert(err);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views/sys"}]}