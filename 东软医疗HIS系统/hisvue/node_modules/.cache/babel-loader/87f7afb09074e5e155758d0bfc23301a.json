{"remainingRequest":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\sys\\constant.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\src\\views\\sys\\constant.vue","mtime":1602230683752},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1600741744010},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\p\\东软医疗HIS系统\\hisvue\\node_modules\\vue-loader\\lib\\index.js","mtime":1600741754219}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.map\";\nimport _objectSpread from \"C:\\\\Users\\\\Surface\\\\Desktop\\\\p\\\\\\u4E1C\\u8F6F\\u533B\\u7597HIS\\u7CFB\\u7EDF\\\\hisvue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      pageInfo: {\n        pageNum: 1,\n        pageSize: 5\n      },\n      keyword: \"\",\n      type: {},\n      disableAddTypeDialog: false,\n      disableItemDialog: false,\n      typelist: [],\n      params: {},\n      itemPageInfo: {},\n      ids: []\n    };\n  },\n  created: function created() {\n    this.showData(1, this.pageInfo.pageSize, this.keyword);\n  },\n  methods: {\n    showData: function showData(pageNum, pageSize, keyword) {\n      var _this = this;\n\n      var url = \"constantType/getPaged\";\n      var params = \"pageNum=\".concat(pageNum, \"&pageSize=\").concat(pageSize, \"&keyword=\").concat(keyword);\n      axios.post(url, params).then(function (resp) {\n        _this.pageInfo = resp.data.data;\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(pageNum) {\n      this.showData(pageNum, this.pageInfo.pageSize, this.keyword);\n    },\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.showData(1, pageSize, this.keyword);\n      this.pageInfo.pageSize = pageSize;\n    },\n    search: function search() {\n      this.showData(1, this.pageInfo.pageSize, this.keyword);\n    },\n    handleTypeEdit: function handleTypeEdit(scope) {\n      this.$set(scope.row, \"edit\", true);\n      this.type = _objectSpread({}, scope.row);\n    },\n    handleTypeSave: function handleTypeSave(scope) {\n      var _this2 = this;\n\n      var url = \"constantType/update\";\n      axios.post(url, this.type).then(function (resp) {\n        if (resp.data.data == 1) {\n          scope.row.edit = false;\n          scope.row.constanttypecode = _this2.type.constanttypecode;\n          scope.row.constanttypename = _this2.type.constanttypename;\n        }\n      });\n    },\n    handleTypeDel: function handleTypeDel(scope) {\n      var _this3 = this;\n\n      this.$confirm(\"是否删除？\", \"提示\").then(function () {\n        var url = \"constantType/delete\";\n        axios.post(url, \"id=\".concat(scope.row.id)).then(function (resp) {\n          if (resp.data.data == 1) {\n            _this3.$alert(\"删除成功！\");\n\n            _this3.showData(_this3.pageInfo.pageNum, _this3.pageInfo.pageSize, _this3.keyword);\n          }\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    handleInsert: function handleInsert() {\n      var _this4 = this;\n\n      var url = \"constantType/insert\";\n      axios.post(url, this.type).then(function (resp) {\n        if (resp.data.data == 1) {\n          _this4.showData(_this4.pageInfo.navigateLastPage, _this4.pageInfo.pageSize, _this4.keyword);\n\n          _this4.disableAddTypeDialog = false;\n        }\n      });\n      this.type = {};\n    },\n    handleItemManage: function handleItemManage() {\n      var _this5 = this;\n\n      this.disableItemDialog = true;\n      var url = \"constantType/getAll\";\n      axios.post(url).then(function (resp) {\n        _this5.typelist = resp.data.data;\n      });\n    },\n    searchItem: function searchItem() {\n      this.showItemData(1, 5);\n    },\n    showItemData: function showItemData(pageNum, pageSize) {\n      var _this6 = this;\n\n      var url = \"constantItem/getPaged\";\n      this.params = _objectSpread({}, this.params, {\n        pageNum: pageNum,\n        pageSize: pageSize\n      });\n      axios.post(url, this.params).then(function (resp) {\n        _this6.itemPageInfo = resp.data.data;\n      });\n    },\n    handleItemCurrentChange: function handleItemCurrentChange(pageNum) {\n      this.showItemData(pageNum, this.itemPageInfo.pageSize);\n    },\n    handleItemSizeChange: function handleItemSizeChange(pageSize) {\n      this.showItemData(1, pageSize);\n    },\n    handleSelectionChange: function handleSelectionChange(item) {\n      this.ids = item.map(function (o) {\n        return o.id;\n      });\n    },\n    batchDelete: function batchDelete() {\n      var _this7 = this;\n\n      this.$confirm(\"是否删除？\", \"提示\").then(function () {\n        var url = \"constantItem/batchDelete\";\n        axios.post(url, _this7.ids).then(function (resp) {\n          if (resp.data.data > 0) {\n            _this7.$alert(\"删除成功！\");\n\n            _this7.showItemData(1, _this7.itemPageInfo.pageSize);\n          }\n        });\n      }).catch(function (err) {\n        _this7.$alert(err);\n      });\n    }\n  }\n};",{"version":3,"sources":["constant.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-form :inline=\"true\" size=\"mini\">\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-input v-model=\"keyword\" placeholder=\"请输入常量类别编码和名称\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"search\">查询常量类别</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"disableAddTypeDialog = true\">新增常量类别</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"handleItemManage\">常数项管理</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<el-table :data=\"pageInfo.list\" style=\"100%\">\r\n\t\t\t<el-table-column label=\"编号\" prop=\"id\" width=\"80\"></el-table-column>\r\n\t\t\t<el-table-column label=\"代码\" width=\"200\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t<el-input v-model=\"type.constanttypecode\" size=\"mini\"></el-input>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<span>{{scope.row.constanttypecode}}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"名称\" width=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t<el-input v-model=\"type.constanttypename\" size=\"mini\"></el-input>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<span>{{scope.row.constanttypename}}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" width=\"180\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t<el-button @click=\"handleTypeSave(scope)\" size=\"mini\" type=\"primary\">保存</el-button>\r\n\t\t\t\t\t\t<el-button size=\"mini\" @click=\"scope.row.edit=false\" type=\"danger\">取消</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<el-button @click=\"handleTypeEdit(scope)\" size=\"mini\" type=\"primary\">编辑</el-button>\r\n\t\t\t\t\t\t<el-button size=\"mini\" @click=\"handleTypeDel(scope)\" type=\"danger\">删除</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<el-pagination layout=\"prev,pager,next,total,jumper,sizes\" :total=\"pageInfo.total\" :page-size=\"pageInfo.pageSize\"\r\n\t\t :page-count=\"pageInfo.navigatePages\" :page-sizes=\"[5,10,15,20]\" :current-page=\"pageInfo.pageNum\" background\r\n\t\t @current-change=\"handleCurrentChange\" @size-change=\"handleSizeChange\"></el-pagination>\r\n\r\n\t\t<el-dialog :visible.sync=\"disableAddTypeDialog\" title=\"新增常数类别\" center>\r\n\t\t\t<el-form :inline=\"true\" align=\"center\" size=\"mini\">\r\n\t\t\t\t<el-form-item label=\"常数类别编码:\">\r\n\t\t\t\t\t<el-input v-model=\"type.constanttypecode\" placeholder=\"常数类别编码\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"常数类别名称:\">\r\n\t\t\t\t\t<el-input v-model=\"type.constanttypename\" placeholder=\"常数类别名称\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button @click=\"handleInsert()\" type=\"primary\">保存</el-button>\r\n\t\t\t\t\t<el-button type=\"danger\" @click=\"disableAddTypeDialog=false\">取消</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</el-dialog>\r\n\t\t<el-dialog :visible.sync=\"disableItemDialog\" title=\"常数项列表\" center width=\"850px\">\r\n\t\t\t<el-form :inline=\"true\" align=\"center\" size=\"mini\">\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-input placeholder=\"请输入常量类别编码和名称\" v-model=\"params.CodeOrName\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<el-select placeholder=\"所属分类\" v-model=\"params.typeId\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"type in typelist\" :key=\"type.id\" :label=\"type.constanttypename\" :value=\"type.id\">\r\n\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"searchItem()\">查询常量类别</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"disableAddTypeDialog = true\">新增常量类别</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<hr />\r\n\t\t\t<el-table :data=\"itemPageInfo.list\" @selection-change=\"handleSelectionChange\">\r\n\t\t\t\t<el-table-column type=\"selection\">\r\n\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"编码\" width=\"80\" prop=\"code\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"名称\" width=\"200\" prop=\"name\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"类别\" width=\"120\" prop=\"type.constanttypename\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"ID\" width=\"120\" prop=\"id\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" width=\"180\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<el-pagination :total=\"itemPageInfo.total\" :page-count=\"itemPageInfo.nevigatePages\" :page-size=\"itemPageInfo.pageSize\"\r\n\t\t\t :current-page=\"itemPageInfo.pageNum\" :page-sizes=\"[5,10,15,20]\" layout=\"prev,pager,next,total,jumper,sizes\"\r\n\t\t\t background @current-change=\"handleItemCurrentChange\" @size-change=\"handleItemSizeChange\"></el-pagination>\r\n\t\t\t<br>\r\n\t\t\t<el-form style=\"text-align: center;\">\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"danger\" :disabled=\"ids.length==0\" @click=\"batchDelete\">批量删除</el-button>\r\n\t\t\t\t\t<el-button @click=\"disableItemDialog = false\">关闭</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpageInfo: {\r\n\t\t\t\t\tpageNum: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t},\r\n\t\t\t\tkeyword: \"\",\r\n\t\t\t\ttype: {},\r\n\t\t\t\tdisableAddTypeDialog: false,\r\n\t\t\t\tdisableItemDialog: false,\r\n\t\t\t\ttypelist: [],\r\n\t\t\t\tparams: {},\r\n\t\t\t\titemPageInfo: {},\r\n\t\t\t\tids:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.showData(1, this.pageInfo.pageSize, this.keyword)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshowData(pageNum, pageSize, keyword) {\r\n\t\t\t\tlet url = \"constantType/getPaged\";\r\n\t\t\t\tlet params = `pageNum=${pageNum}&pageSize=${pageSize}&keyword=${keyword}`;\r\n\t\t\t\taxios.post(url, params).then(resp => {\r\n\t\t\t\t\tthis.pageInfo = resp.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(pageNum) {\r\n\t\t\t\tthis.showData(pageNum, this.pageInfo.pageSize, this.keyword);\r\n\r\n\t\t\t},\r\n\t\t\thandleSizeChange(pageSize) {\r\n\t\t\t\tthis.showData(1, pageSize, this.keyword);\r\n\t\t\t\tthis.pageInfo.pageSize = pageSize;\r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.showData(1, this.pageInfo.pageSize, this.keyword)\r\n\t\t\t},\r\n\t\t\thandleTypeEdit(scope) {\r\n\t\t\t\tthis.$set(scope.row, \"edit\", true);\r\n\t\t\t\tthis.type = { ...scope.row\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleTypeSave(scope) {\r\n\t\t\t\tlet url = \"constantType/update\";\r\n\t\t\t\taxios.post(url, this.type).then(resp => {\r\n\t\t\t\t\tif (resp.data.data == 1) {\r\n\t\t\t\t\t\tscope.row.edit = false;\r\n\t\t\t\t\t\tscope.row.constanttypecode = this.type.constanttypecode;\r\n\t\t\t\t\t\tscope.row.constanttypename = this.type.constanttypename;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleTypeDel(scope) {\r\n\t\t\t\tthis.$confirm(\"是否删除？\", \"提示\").then(() => {\r\n\t\t\t\t\tlet url = \"constantType/delete\";\r\n\t\t\t\t\taxios.post(url, `id=${scope.row.id}`).then(resp => {\r\n\t\t\t\t\t\tif (resp.data.data == 1) {\r\n\t\t\t\t\t\t\tthis.$alert(\"删除成功！\");\r\n\t\t\t\t\t\t\tthis.showData(this.pageInfo.pageNum, this.pageInfo.pageSize, this.keyword);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleInsert() {\r\n\t\t\t\tlet url = \"constantType/insert\";\r\n\t\t\t\taxios.post(url, this.type).then(resp => {\r\n\t\t\t\t\tif (resp.data.data == 1) {\r\n\t\t\t\t\t\tthis.showData(this.pageInfo.navigateLastPage, this.pageInfo.pageSize, this.keyword);\r\n\t\t\t\t\t\tthis.disableAddTypeDialog = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.type = {};\r\n\t\t\t},\r\n\t\t\thandleItemManage() {\r\n\t\t\t\tthis.disableItemDialog = true;\r\n\t\t\t\tlet url = \"constantType/getAll\";\r\n\t\t\t\taxios.post(url).then(resp => {\r\n\t\t\t\t\tthis.typelist = resp.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsearchItem() {\r\n\t\t\t\tthis.showItemData(1,5);\r\n\t\t\t},\r\n\t\t\tshowItemData(pageNum, pageSize) {\r\n\t\t\t\tlet url = \"constantItem/getPaged\";\r\n\t\t\t\tthis.params = {...this.params,pageNum:pageNum,pageSize:pageSize};\r\n\t\t\t\taxios.post(url,this.params).then(resp => {\r\n\t\t\t\t\tthis.itemPageInfo = resp.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleItemCurrentChange(pageNum) {\r\n\t\t\t\tthis.showItemData(pageNum,this.itemPageInfo.pageSize);\r\n\t\t\t},\r\n\t\t\thandleItemSizeChange(pageSize){\r\n\t\t\t\tthis.showItemData(1,pageSize);\r\n\t\t\t},\r\n\t\t\thandleSelectionChange(item){\r\n\t\t\t\tthis.ids = item.map(o=>o.id);\r\n\t\t\t},\r\n\t\t\tbatchDelete(){\r\n\t\t\t\tthis.$confirm(\"是否删除？\",\"提示\").then(()=>{\r\n\t\t\t\t\tlet url = \"constantItem/batchDelete\";\r\n\t\t\t\t\taxios.post(url,this.ids).then(resp=>{\r\n\t\t\t\t\t\tif(resp.data.data > 0){\r\n\t\t\t\t\t\t\tthis.$alert(\"删除成功！\");\r\n\t\t\t\t\t\t\tthis.showItemData(1,this.itemPageInfo.pageSize);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tthis.$alert(err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"],"sourceRoot":"src/views/sys"}]}