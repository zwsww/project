{"remainingRequest":"C:\\Users\\Surface\\Desktop\\ssmvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Surface\\Desktop\\ssmvue\\src\\views\\getalldept.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Surface\\Desktop\\ssmvue\\src\\views\\getalldept.vue","mtime":1600917005145},{"path":"C:\\Users\\Surface\\Desktop\\ssmvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\ssmvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1600741744010},{"path":"C:\\Users\\Surface\\Desktop\\ssmvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\ssmvue\\node_modules\\vue-loader\\lib\\index.js","mtime":1600741754219}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default{\n\tdata(){\n\t\treturn {\n\t\t\tdepts:[]\n\t\t}\n\t},\n\tcreated(){\n\t\tlet url = \"dept/getAll\";\n\t\taxios.post(url).then(resp=>{\n\t\t\tthis.depts = resp.data;\n\t\t}).catch(err=>console.log(err));\n\t},\n\tmethods:{\n\t\tdel(deptno,index){\n\t\t\tif(confirm(\"是否删除\")){\n\t\t\t\tlet url = \"dept/delete\";\n\t\t\t\taxios.post(url,`deptno=${deptno}`).then(resp=>{\n\t\t\t\t\tif(resp.data == 1){\n\t\t\t\t\t\tthis.depts.splice(index,1);\n\t\t\t\t\t}\n\t\t\t\t}).catch(err=>console.log(err));\n\t\t\t}\t\t\t\t\n\t\t},\n\t\tedit(dept){\n\t\t\tthis.$router.push({name:\"updatedept\",query:{dept}});\n\t\t},\n\t\tinsert(dept){\n\t\t\tthis.$router.push({name:\"insertdept\",query:{dept}})\n\t\t}\n\t}\n}\n",{"version":3,"sources":["getalldept.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"getalldept.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<input type=\"button\" value=\"新增部门\" @click=\"insert()\"/>\r\n\t\t<table width=\"500\" border=\"1\">\r\n\t\t\t<tr v-for=\"(item,index) in depts\" :key=\"index\">\r\n\t\t\t\t<td>{{index+1}}</td>\r\n\t\t\t\t<td>{{item.deptno}}</td>\r\n\t\t\t\t<td>{{item.dname}}</td>\r\n\t\t\t\t<td>{{item.loc}}</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<input type=\"button\" value=\"删除\" @click=\"del(item.deptno,index)\">\r\n\t\t\t\t\t<input type=\"button\" value=\"编辑\" @click=\"edit(item)\">\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tdepts:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tlet url = \"dept/getAll\";\r\n\t\t\taxios.post(url).then(resp=>{\r\n\t\t\t\tthis.depts = resp.data;\r\n\t\t\t}).catch(err=>console.log(err));\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tdel(deptno,index){\r\n\t\t\t\tif(confirm(\"是否删除\")){\r\n\t\t\t\t\tlet url = \"dept/delete\";\r\n\t\t\t\t\taxios.post(url,`deptno=${deptno}`).then(resp=>{\r\n\t\t\t\t\t\tif(resp.data == 1){\r\n\t\t\t\t\t\t\tthis.depts.splice(index,1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err=>console.log(err));\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t},\r\n\t\t\tedit(dept){\r\n\t\t\t\tthis.$router.push({name:\"updatedept\",query:{dept}});\r\n\t\t\t},\r\n\t\t\tinsert(dept){\r\n\t\t\t\tthis.$router.push({name:\"insertdept\",query:{dept}})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}