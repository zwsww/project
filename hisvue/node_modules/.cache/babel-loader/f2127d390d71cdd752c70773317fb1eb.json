{"remainingRequest":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Surface\\Desktop\\hisvue\\src\\views\\mainpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\src\\views\\mainpage.vue","mtime":1602293355683},{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1600741744010},{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\vue-loader\\lib\\index.js","mtime":1600741754219}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.some\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nexport default {\n  data: function data() {\n    return {\n      user: {},\n      menus: [],\n      activeName: 'b',\n      editableTabs: [],\n      menuText: '隐藏菜单'\n    };\n  },\n  computed: {\n    username: function username() {\n      return this.$getSessionStorage('user').username.toUpperCase();\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.user = this.$getSessionStorage(\"user\");\n    var url = \"role/getMenuByRoleId\";\n    /* axios.post(url,`roleId=${this.user.role.id}`).then(resp=>{ */\n\n    axios.post(url, \"roleId=7\").then(function (resp) {\n      _this.menus = resp.data.data;\n    });\n  },\n  methods: {\n    handleClick: function handleClick(tab, event) {\n      console.log(tab, event);\n    },\n    addTab: function addTab(menu) {\n      var newTabName = menu.id + '';\n      var b = this.editableTabs.some(function (tab) {\n        return tab.name == newTabName;\n      });\n\n      if (!b) {\n        this.editableTabs.push({\n          title: menu.title,\n          name: newTabName,\n          componentName: 'com' + newTabName\n        });\n      }\n\n      Vue.component('com' + newTabName, function () {\n        return import('@/views/' + menu.url + '.vue');\n      });\n      this.activeName = newTabName;\n    },\n    handleRemove: function handleRemove(targetName) {\n      var _this2 = this;\n\n      var temp = this.activeName;\n\n      if (this.activeName === targetName) {\n        this.editableTabs.forEach(function (tab, index) {\n          if (tab.name === _this2.activeName) {\n            var nextTab = _this2.editableTabs[index + 1] || _this2.editableTabs[index - 1];\n\n            if (nextTab) {\n              temp = nextTab.name;\n            }\n          }\n        });\n      }\n\n      this.activeName = temp;\n      this.editableTabs = this.editableTabs.filter(function (tab) {\n        return tab.name !== targetName;\n      });\n    },\n    handleCommand: function handleCommand(command) {\n      var _this3 = this;\n\n      if (command == \"hideMenu\") {\n        if (this.menuText == \"隐藏菜单\") {\n          this.menuText = \"显示菜单\";\n        } else {\n          this.menuText = \"隐藏菜单\";\n        }\n      } else if (command == \"exit\") {\n        this.$confirm(\"你想好了吗？\", \"提示\").then(function () {\n          _this3.$router.push(\"/login\");\n\n          sessionStorage.clear();\n        }).catch(function () {});\n      }\n    }\n  }\n};",{"version":3,"sources":["mainpage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div>\n\t\t<el-container>\n\t\t\t<el-header>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"21\">\r\n\t\t\t\t\t\t<span class=\"main_title\">东软医疗HIS系统</span>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"2\" :offset=\"1\">\r\n\t\t\t\t\t\t\t<el-dropdown @command=\"handleCommand\" class=\"el-dropdown-link\">\r\n\t\t\t\t\t\t\t\t<span class=\"user_title\">\r\n\t\t\t\t\t\t\t\t\t{{username}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item command=\"hideMenu\">\r\n\t\t\t\t\t\t\t\t\t\t{{menuText}}\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item divided command=\"exit\">\r\n\t\t\t\t\t\t\t\t\t\t退出登录\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t\t\t</el-dropdown>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-header>\n\t\t\t<el-container class=\"a\">\n\t\t\t\t<el-aside v-show=\"menuText=='隐藏菜单'\">\n\t\t\t\t\t<el-menu>\n\t\t\t\t\t\t<template v-for=\"(menu,index) in menus\">\n\t\t\t\t\t\t\t<template v-if=\"menu.parentId == 0\">\n\t\t\t\t\t\t\t\t<el-submenu :index=\"index+''\"  :key=\"index\">\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<span slot=\"title\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-menu\"></i>{{menu.title}}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<template v-for=\"(childMenu,childIndex) in menus\">\n\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"menu.id == childMenu.parentId\">\n\t\t\t\t\t\t\t\t\t\t\t\t<el-menu-item :key=\"childIndex\" @click=\"addTab(childMenu)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{childMenu.title}}\n\t\t\t\t\t\t\t\t\t\t\t\t</el-menu-item>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</el-submenu>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-menu>\n\t\t\t\t\t\n\t\t\t\t</el-aside>\n\t\t\t\t<el-main>\n\t\t\t\t\t<el-tabs type=\"card\" closable @tab-remove=\"handleRemove\" v-model=\"activeName\" @tab-click=\"handleClick\">\n\t\t\t\t\t\t<el-tab-pane v-for=\"(item,index) in editableTabs\" :label=\"item.title\" :name=\"item.name\">\n\t\t\t\t\t\t\t<component :is=\"item.componentName\"></component>\r\n\t\t\t\t\t\t</el-tab-pane>\n\t\t\t\t\t</el-tabs>\n\t\t\t\t</el-main>\n\t\t\t</el-container>\n\t\t\t<el-footer>版权：东软睿道</el-footer>\n\t\t</el-container>\n\t</div>\n</template>\n\n<script>\r\n\timport Vue from 'vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tuser:{},\n\t\t\t\tmenus:[],\n\t\t\t\tactiveName:'b',\n\t\t\t\teditableTabs:[\n\t\t\t\t],\r\n\t\t\t\tmenuText:'隐藏菜单'\n\t\t\t}\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tusername(){\r\n\t\t\t\treturn this.$getSessionStorage('user').username.toUpperCase()\r\n\t\t\t}\r\n\t\t},\n\t\tcreated(){\n\t\t\tthis.user = this.$getSessionStorage(\"user\");\n\t\t\t\n\t\t\tlet url = \"role/getMenuByRoleId\";\n\t\t\t/* axios.post(url,`roleId=${this.user.role.id}`).then(resp=>{ */\r\n\t\t\taxios.post(url,`roleId=7`).then(resp=>{\n\t\t\t\tthis.menus = resp.data.data;\n\t\t\t});\n\t\t},\n\t\tmethods:{\n\t\t\thandleClick(tab,event){\n\t\t\t\tconsole.log(tab,event);\n\t\t\t},\r\n\t\t\taddTab(menu){\r\n\t\t\t\tlet newTabName = menu.id+'';\r\n\t\t\t\tlet b = this.editableTabs.some(tab=>tab.name == newTabName);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(!b){\r\n\t\t\t\t\tthis.editableTabs.push({\r\n\t\t\t\t\t\ttitle:menu.title,\r\n\t\t\t\t\t\tname:newTabName,\r\n\t\t\t\t\t\tcomponentName:'com'+newTabName\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tVue.component('com'+newTabName,()=>import('@/views/'+menu.url+'.vue'));\r\n\t\t\t\tthis.activeName = newTabName;\r\n\t\t\t},\r\n\t\t\thandleRemove(targetName){\r\n\t\t\t\tlet temp = this.activeName;\r\n\t\t\t\tif(this.activeName === targetName){\r\n\t\t\t\t\tthis.editableTabs.forEach((tab,index)=>{\r\n\t\t\t\t\t\tif(tab.name === this.activeName){\r\n\t\t\t\t\t\t\tlet nextTab = this.editableTabs[index+1] || this.editableTabs[index-1];\r\n\t\t\t\t\t\t\tif(nextTab){\r\n\t\t\t\t\t\t\t\ttemp = nextTab.name;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.activeName = temp;\r\n\t\t\t\tthis.editableTabs = this.editableTabs.filter(tab=>tab.name !== targetName);\r\n\t\t\t},\r\n\t\t\thandleCommand(command){\r\n\t\t\t\tif(command == \"hideMenu\"){\r\n\t\t\t\t\tif(this.menuText == \"隐藏菜单\"){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.menuText = \"显示菜单\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.menuText = \"隐藏菜单\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(command == \"exit\"){\r\n\t\t\t\t\tthis.$confirm(\"你想好了吗？\",\"提示\").then(()=>{\r\n\t\t\t\t\t\tthis.$router.push(\"/login\");\r\n\t\t\t\t\t\tsessionStorage.clear();\r\n\t\t\t\t\t}).catch(()=>{});\r\n\t\t\t\t}\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped=\"scoped\">\t\t\n\t.el-header,.el-footer{\n\t\theight: 100px;\n\t\tbackground-color: #409EFF;\n\t}\n\t.el-aside{\n\t\theight: 600px;\n\t}\n\t.link{\n\t\ttext-decoration: none;\n\t}\r\n\t.main_title{\r\n\t\tfont-size: 1.375rem;\r\n\t\tcolor: #fff;\r\n\t\theight: 60px;\r\n\t\tline-height: 60px;\r\n\t}\r\n\t.user_title{\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #FFFFFF;\r\n\t\theight: 60px;\r\n\t\tline-height: 60px;\r\n\t}\r\n\t.a{\r\n\t\theight: 600px;\r\n\t}\r\n\t.el-dropdown-link{\r\n\t\tcursor: pointer;\r\n\t}\n</style>\n"],"sourceRoot":"src/views"}]}