{"remainingRequest":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Surface\\Desktop\\hisvue\\src\\views\\sys\\constant.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\src\\views\\sys\\constant.vue","mtime":1602130974922},{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1600741744010},{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600741744315},{"path":"C:\\Users\\Surface\\Desktop\\hisvue\\node_modules\\vue-loader\\lib\\index.js","mtime":1600741754219}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tpageInfo: {\n\t\t\t\tpageNum: 1,\n\t\t\t\tpageSize: 5\n\t\t\t},\n\t\t\tkeyword: \"\",\n\t\t\ttype: {},\n\t\t\tdisableAddTypeDialog: false,\n\t\t\tdisableEditTypeDialog: false,\n\t\t\tcheckd:[]\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.showData(1, this.pageInfo.pageSize, this.keyword)\n\t},\n\tmethods: {\n\t\tshowData(pageNum, pageSize, keyword) {\n\t\t\tlet url = \"constantType/getPaged\";\n\t\t\tlet params = `pageNum=${pageNum}&pageSize=${pageSize}&keyword=${keyword}`;\n\t\t\taxios.post(url, params).then(resp => {\n\t\t\t\tthis.pageInfo = resp.data.data;\n\t\t\t});\n\t\t},\n\t\thandleCurrentChange(pageNum) {\n\t\t\tthis.showData(pageNum, this.pageInfo.pageSize, this.keyword);\n\n\t\t},\n\t\thandleSizeChange(pageSize) {\n\t\t\tthis.showData(1, pageSize, this.keyword);\n\t\t\tthis.pageInfo.pageSize = pageSize;\n\t\t},\n\t\tsearch() {\n\t\t\tthis.showData(1, this.pageInfo.pageSize, this.keyword)\n\t\t},\n\t\thandleTypeEdit(scope) {\n\t\t\tthis.$set(scope.row, \"edit\", true);\n\t\t\tthis.type = { ...scope.row\n\t\t\t}\n\t\t},\n\t\thandleTypeSave(scope) {\n\t\t\tlet url = \"constantType/update\";\n\t\t\taxios.post(url, this.type).then(resp => {\n\t\t\t\tif (resp.data.data == 1) {\n\t\t\t\t\tthis.showData(this.pageInfo.pageNum, this.pageInfo.pageSize, this.keyword);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\thandleTypeDel(scope) {\n\t\t\tthis.$confirm(\"是否删除？\", \"提示\").then(() => {\n\t\t\t\tlet url = \"constantType/delete\";\n\t\t\t\taxios.post(url, `id=${scope.row.id}`).then(resp => {\n\t\t\t\t\tif (resp.data.data == 1) {\n\t\t\t\t\t\tthis.$alert(\"删除成功！\");\n\t\t\t\t\t\tthis.showData(this.pageInfo.pageNum, this.pageInfo.pageSize, this.keyword);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t});\n\t\t},\n\t\thandleInsert() {\n\t\t\tlet url = \"constantType/insert\";\n\t\t\taxios.post(url, this.type).then(resp => {\n\t\t\t\tif (resp.data.data == 1) {\n\t\t\t\t\tthis.showData(this.pageInfo.navigateLastPage, this.pageInfo.pageSize, this.keyword);\n\t\t\t\t\tthis.disableAddTypeDialog = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.type = {};\n\t\t},\n\t\tgetAll() {\n\t\t\tlet url = \"constantType/getAll\";\n\t\t\tlet params = `pageNum=${pageNum}&pageSize=${pageSize}&keyword=${keyword}`;\n\t\t\taxios.post(url, params).then(resp => {\n\t\t\t\tthis.pageInfo = resp.data.data;\n\t\t\t});\n\t\t}\n\t}\n}\n",{"version":3,"sources":["constant.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"constant.vue","sourceRoot":"src/views/sys","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-form :inline=\"true\" size=\"mini\">\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-input v-model=\"keyword\" placeholder=\"请输入常量类别编码和名称\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"search\">查询常量类别</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"disableAddTypeDialog = true\">新增常量类别</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"disableEditTypeDialog = true\">常数项管理</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<el-table :data=\"pageInfo.list\" style=\"100%\">\r\n\t\t\t<el-table-column label=\"编号\" prop=\"id\" width=\"80\"></el-table-column>\r\n\t\t\t<el-table-column label=\"代码\" width=\"200\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t<el-input v-model=\"type.constanttypecode\" size=\"mini\"></el-input>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<span>{{scope.row.constanttypecode}}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"名称\" width=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t<el-input v-model=\"type.constanttypename\" size=\"mini\"></el-input>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<span>{{scope.row.constanttypename}}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" width=\"180\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t<el-button @click=\"handleTypeSave(scope)\" size=\"mini\" type=\"primary\">保存</el-button>\r\n\t\t\t\t\t\t<el-button size=\"mini\" @click=\"scope.row.edit=false\" type=\"danger\">取消</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<el-button @click=\"handleTypeEdit(scope)\" size=\"mini\" type=\"primary\">编辑</el-button>\r\n\t\t\t\t\t\t<el-button size=\"mini\" @click=\"handleTypeDel(scope)\" type=\"danger\">删除</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<el-pagination layout=\"prev,pager,next,total,jumper,sizes\" :total=\"pageInfo.total\" :page-size=\"pageInfo.pageSize\"\r\n\t\t :page-count=\"pageInfo.navigatePages\" :page-sizes=\"[5,10,15,20]\" :current-page=\"pageInfo.pageNum\" background\r\n\t\t @current-change=\"handleCurrentChange\" @size-change=\"handleSizeChange\"></el-pagination>\r\n\r\n\t\t<el-dialog :visible.sync=\"disableAddTypeDialog\" title=\"新增常数类别\" center>\r\n\t\t\t<el-form :inline=\"true\" align=\"center\" size=\"mini\">\r\n\t\t\t\t<el-form-item label=\"常数类别编码:\">\r\n\t\t\t\t\t<el-input v-model=\"type.constanttypecode\" placeholder=\"常数类别编码\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"常数类别名称:\">\r\n\t\t\t\t\t<el-input v-model=\"type.constanttypename\" placeholder=\"常数类别名称\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button @click=\"handleInsert()\" type=\"primary\">保存</el-button>\r\n\t\t\t\t\t<el-button type=\"danger\" @click=\"disableAddTypeDialog=false\">取消</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</el-dialog>\r\n\t\t<el-dialog :visible.sync=\"disableEditTypeDialog\" title=\"常数项列表\" center>\r\n\t\t\t<el-form :inline=\"true\" align=\"center\" size=\"mini\">\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-input placeholder=\"请输入常量类别编码和名称\" v-model=\"keyword\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<el-select placeholder=\"所属分类\">\r\n\t\t\t\t\t\t\t<el-option>\r\n\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"getAll()\">查询常量类别</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"disableAddTypeDialog = true\">新增常量类别</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<hr />\r\n\t\t\t<el-table>\r\n\t\t\t\t<el-table-column>\r\n\t\t\t\t\t<span><input type=\"checkbox\"></span>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"编码\" width=\"80\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"名称\" width=\"200\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"类别\" width=\"120\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"ID\" width=\"120\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" width=\"180\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<br>\r\n\t\t\t<el-form style=\"text-align: center;\">\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"danger\">批量删除</el-button>\r\n\t\t\t\t\t<el-button @click=\"disableEditTypeDialog = false\">关闭</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpageInfo: {\r\n\t\t\t\t\tpageNum: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t},\r\n\t\t\t\tkeyword: \"\",\r\n\t\t\t\ttype: {},\r\n\t\t\t\tdisableAddTypeDialog: false,\r\n\t\t\t\tdisableEditTypeDialog: false,\r\n\t\t\t\tcheckd:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.showData(1, this.pageInfo.pageSize, this.keyword)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshowData(pageNum, pageSize, keyword) {\r\n\t\t\t\tlet url = \"constantType/getPaged\";\r\n\t\t\t\tlet params = `pageNum=${pageNum}&pageSize=${pageSize}&keyword=${keyword}`;\r\n\t\t\t\taxios.post(url, params).then(resp => {\r\n\t\t\t\t\tthis.pageInfo = resp.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(pageNum) {\r\n\t\t\t\tthis.showData(pageNum, this.pageInfo.pageSize, this.keyword);\r\n\r\n\t\t\t},\r\n\t\t\thandleSizeChange(pageSize) {\r\n\t\t\t\tthis.showData(1, pageSize, this.keyword);\r\n\t\t\t\tthis.pageInfo.pageSize = pageSize;\r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.showData(1, this.pageInfo.pageSize, this.keyword)\r\n\t\t\t},\r\n\t\t\thandleTypeEdit(scope) {\r\n\t\t\t\tthis.$set(scope.row, \"edit\", true);\r\n\t\t\t\tthis.type = { ...scope.row\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleTypeSave(scope) {\r\n\t\t\t\tlet url = \"constantType/update\";\r\n\t\t\t\taxios.post(url, this.type).then(resp => {\r\n\t\t\t\t\tif (resp.data.data == 1) {\r\n\t\t\t\t\t\tthis.showData(this.pageInfo.pageNum, this.pageInfo.pageSize, this.keyword);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleTypeDel(scope) {\r\n\t\t\t\tthis.$confirm(\"是否删除？\", \"提示\").then(() => {\r\n\t\t\t\t\tlet url = \"constantType/delete\";\r\n\t\t\t\t\taxios.post(url, `id=${scope.row.id}`).then(resp => {\r\n\t\t\t\t\t\tif (resp.data.data == 1) {\r\n\t\t\t\t\t\t\tthis.$alert(\"删除成功！\");\r\n\t\t\t\t\t\t\tthis.showData(this.pageInfo.pageNum, this.pageInfo.pageSize, this.keyword);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleInsert() {\r\n\t\t\t\tlet url = \"constantType/insert\";\r\n\t\t\t\taxios.post(url, this.type).then(resp => {\r\n\t\t\t\t\tif (resp.data.data == 1) {\r\n\t\t\t\t\t\tthis.showData(this.pageInfo.navigateLastPage, this.pageInfo.pageSize, this.keyword);\r\n\t\t\t\t\t\tthis.disableAddTypeDialog = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.type = {};\r\n\t\t\t},\r\n\t\t\tgetAll() {\r\n\t\t\t\tlet url = \"constantType/getAll\";\r\n\t\t\t\tlet params = `pageNum=${pageNum}&pageSize=${pageSize}&keyword=${keyword}`;\r\n\t\t\t\taxios.post(url, params).then(resp => {\r\n\t\t\t\t\tthis.pageInfo = resp.data.data;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"]}]}